<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fight</title>
    <style>
        /* body{
            background-color: #1e1e1e;
        } */
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
    <script src="game.js"></script>
    <script> 
        class Player{
            constructor(pos, health=100) {
                this.x = pos[0];
                this.y = pos[1];
                this.velx = 0
                this.vely = 0
                this.health = health
            }
        }
        var player;
        var speed;
        var nexthit = 31;
        function setup(){
            createCanvas(1024, 526);
            player = new Player([30, 474]);
            enemy = new Player([900, 474]);
            speed = 1;
            keytime = 6;
            inJump = false;
            jumpart = 0;
            gvel = 0;
            jumpmax = 6;
            fslh = 20;
            lastkeys = [];
            combo = false;
            cphb = 0;
            cehb = 0;
            mvr = true;
            emvr = false;
            cepb = 0;
            cppb = 0;
            einJump = false;
            ejumpart = 0;
            playing = false;
            b = createButton("Play against a friend");
            b.position(383, 228);
            b.size(240, 70);
            b.id("playbutton");
            b.mouseClicked(() => {
                playing = true;
                twoplayer = true;
                document.body.removeChild(document.getElementById("playbuttonai"));
                document.body.removeChild(document.getElementById("playbutton"));
            })
            m = createButton("Play against the AI");
            m.position(383, 338);
            m.size(240, 70);
            m.id("playbuttonai")
            m.mouseClicked(() => {
                playing = true;
                twoplayer = false;
                document.body.removeChild(document.getElementById("playbuttonai"));
                document.body.removeChild(document.getElementById("playbutton"));
            })
        }
        function preload(){
            img = loadImage('assets/sword.png');
            imgl = loadImage('assets/swordleft.png')
            bg = loadImage("assets/streetfighter.gif")
            bgb = loadImage("assets/gamepreview.jpg")
        }
        function draw(){
            if (playing){
                drawc();
            }
            else{
                background(220);
                image(bgb, 0, 0, 1026, 526);
                textSize(70);
                text("Street Fighter", 300, 70);
                noStroke();
                rect(375, 220, 240, 70);
                b = document.getElementById("playbutton");
                b.style.background = "#ffc670"
                b.style.border = "none"
            }
        }
    </script>
</body>
</html>